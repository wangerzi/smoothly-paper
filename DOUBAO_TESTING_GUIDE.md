# è±†åŒ… AI æœåŠ¡æµ‹è¯•æŒ‡å—

æœ¬æ–‡æ¡£æä¾›è¯¦ç»†çš„æµ‹è¯•æ­¥éª¤å’ŒéªŒæ”¶æ ‡å‡†ï¼Œç¡®ä¿è±†åŒ… AI æœåŠ¡é›†æˆæ­£ç¡®ã€‚

---

## ğŸ¯ æµ‹è¯•ç›®æ ‡

éªŒè¯ä»¥ä¸‹åŠŸèƒ½æ­£å¸¸å·¥ä½œï¼š

1. âœ… è±†åŒ… API è°ƒç”¨æˆåŠŸ
2. âœ… è®ºæ–‡ç»“æ„è¯†åˆ«å‡†ç¡®
3. âœ… æ™ºèƒ½åˆ†æ®µåˆç†
4. âœ… æ®µè½åˆ†æå‡†ç¡®ï¼ˆæœ¯è¯­ã€éš¾è¯ã€è¯­æ³•ã€ç¿»è¯‘ï¼‰
5. âœ… é”™è¯¯å¤„ç†å¥å£®
6. âœ… Mock/çœŸå® AI æ¨¡å¼åˆ‡æ¢æ­£å¸¸

---

## ğŸ“‹ æµ‹è¯•å‰å‡†å¤‡

### 1. ç¯å¢ƒé…ç½®æ£€æŸ¥

```bash
# 1. æ£€æŸ¥ .env.local æ˜¯å¦å­˜åœ¨
ls -la .env.local

# 2. æ£€æŸ¥å†…å®¹ï¼ˆä¸è¦æ³„éœ² API Keyï¼‰
cat .env.local | grep -v "API_KEY"

# åº”è¯¥çœ‹åˆ°ï¼š
# DOUBAO_API_BASE_URL=https://ark.cn-beijing.volces.com/api/v3
# DOUBAO_MODEL=doubao-seed-1-6-flash-250828
# USE_MOCK_AI=false
```

### 2. å‡†å¤‡æµ‹è¯•ææ–™

å‡†å¤‡ 3 ä»½ä¸åŒç±»å‹çš„æµ‹è¯•è®ºæ–‡ PDFï¼š

- **çŸ­è®ºæ–‡**ï¼š2-5 é¡µï¼ˆç”¨äºå¿«é€Ÿæµ‹è¯•ï¼‰
- **ä¸­ç­‰è®ºæ–‡**ï¼š10-15 é¡µï¼ˆæ ‡å‡†æµ‹è¯•ï¼‰
- **é•¿è®ºæ–‡**ï¼š20+ é¡µï¼ˆå‹åŠ›æµ‹è¯•ï¼Œå¯é€‰ï¼‰

**æ¨èæµ‹è¯•è®ºæ–‡æ¥æº**ï¼š
- arXiv.orgï¼ˆå¼€æºè®ºæ–‡ï¼‰
- ä½ è‡ªå·±çš„è®ºæ–‡
- ç»å…¸è®ºæ–‡ï¼ˆå¦‚ "Attention Is All You Need"ï¼‰

### 3. å¯åŠ¨å¼€å‘æœåŠ¡å™¨

```bash
npm run dev
```

ç­‰å¾…æœåŠ¡å™¨å¯åŠ¨ï¼Œè®¿é—® http://localhost:3000

---

## ğŸ§ª æµ‹è¯•åœºæ™¯

### åœºæ™¯ 1ï¼šMock æ¨¡å¼æµ‹è¯•ï¼ˆä¸æ¶ˆè€— API é…é¢ï¼‰

**ç›®çš„**ï¼šéªŒè¯åŸºç¡€åŠŸèƒ½å’Œ UI æµç¨‹

#### æ­¥éª¤

1. è®¾ç½® Mock æ¨¡å¼ï¼š
   ```bash
   # .env.local
   USE_MOCK_AI=true
   ```

2. é‡å¯æœåŠ¡å™¨ï¼š
   ```bash
   # Ctrl+C åœæ­¢
   npm run dev
   ```

3. ä¸Šä¼ ä»»æ„ PDF è®ºæ–‡

4. é€‰æ‹©è‹±è¯­æ°´å¹³ï¼ˆä»»æ„ï¼‰

5. ç‚¹å‡»ã€Œå¼€å§‹åˆ†æã€

#### éªŒæ”¶æ ‡å‡†

- âœ… ä¸Šä¼ æˆåŠŸ
- âœ… å¤„ç†é¡µé¢æ˜¾ç¤ºè¿›åº¦åŠ¨ç”»
- âœ… æ§åˆ¶å°æ˜¾ç¤º `[Analysis] Mock æ¨¡å¼ï¼šä½¿ç”¨æ¨¡æ‹Ÿæ•°æ®`
- âœ… 30 ç§’å†…å®Œæˆåˆ†æ
- âœ… è·³è½¬åˆ°é˜…è¯»ç•Œé¢
- âœ… æ˜¾ç¤ºæ¨¡æ‹Ÿçš„æ‘˜è¦ã€æ®µè½ã€æ ‡æ³¨

---

### åœºæ™¯ 2ï¼šçœŸå® AI æ¨¡å¼ - çŸ­è®ºæ–‡æµ‹è¯•

**ç›®çš„**ï¼šéªŒè¯è±†åŒ… API è°ƒç”¨æˆåŠŸï¼Œç»“æœå‡†ç¡®

#### æ­¥éª¤

1. è®¾ç½®çœŸå® AI æ¨¡å¼ï¼š
   ```bash
   # .env.local
   USE_MOCK_AI=false
   DOUBAO_API_KEY=ä½ çš„çœŸå®å¯†é’¥
   ```

2. é‡å¯æœåŠ¡å™¨

3. ä¸Šä¼  **2-5 é¡µçš„çŸ­è®ºæ–‡**

4. é€‰æ‹©ã€Œä¸­çº§ã€æ°´å¹³

5. ç‚¹å‡»ã€Œå¼€å§‹åˆ†æã€

6. è§‚å¯Ÿæ§åˆ¶å°æ—¥å¿—

#### éªŒæ”¶æ ‡å‡†

**API è°ƒç”¨æˆåŠŸ**ï¼š
- âœ… æ§åˆ¶å°æ˜¾ç¤º `[Analysis] çœŸå® AI æ¨¡å¼ï¼šè°ƒç”¨è±†åŒ… API`
- âœ… æ˜¾ç¤º Token ä½¿ç”¨ç»Ÿè®¡ï¼š`[Doubao API] Tokens - Prompt: xxx, Completion: xxx`
- âœ… æ²¡æœ‰æŠ¥é”™

**ç»“æ„åˆ†æå‡†ç¡®**ï¼š
- âœ… è¯†åˆ«å‡ºä¸»è¦ç« èŠ‚ï¼ˆAbstractã€Introduction ç­‰ï¼‰
- âœ… åˆ†æ®µæ•°é‡åˆç†ï¼ˆ5-15 æ®µï¼‰
- âœ… æ‘˜è¦æ˜¯ä¸­æ–‡ï¼Œ200-300 å­—
- âœ… æ‘˜è¦å†…å®¹ä¸è®ºæ–‡ä¸»é¢˜ç›¸å…³

**æ®µè½åˆ†æå‡†ç¡®**ï¼š
- âœ… æ¯ä¸ªæ®µè½æœ‰ä¸­æ–‡ç¿»è¯‘
- âœ… æœ¯è¯­æ ‡æ³¨åˆç†ï¼ˆ3-5 ä¸ª/æ®µï¼‰
- âœ… éš¾è¯æ ‡æ³¨ç¬¦åˆä¸­çº§æ°´å¹³ï¼ˆ5-8 ä¸ª/æ®µï¼‰
- âœ… éš¾è¯æœ‰éŸ³æ ‡ã€è¯æ€§ã€é‡Šä¹‰
- âœ… å¤æ‚å¥æ³•åˆ†ææ¸…æ™°

#### å¦‚ä½•éªŒè¯

æ‰“å¼€æµè§ˆå™¨ DevTools -> Network -> æŸ¥çœ‹ `/api/analyze` è¯·æ±‚

æŸ¥çœ‹æ•°æ®åº“ï¼š
```bash
sqlite3 data/papers.db << EOF
SELECT id, title, status FROM papers ORDER BY created_at DESC LIMIT 1;
SELECT COUNT(*) as paragraph_count FROM paragraphs WHERE paper_id = 'xxx';
SELECT section, COUNT(*) FROM paragraphs WHERE paper_id = 'xxx' GROUP BY section;
EOF
```

---

### åœºæ™¯ 3ï¼šçœŸå® AI æ¨¡å¼ - ä¸­ç­‰è®ºæ–‡æµ‹è¯•

**ç›®çš„**ï¼šéªŒè¯æ‰¹é‡åˆ†æå’Œå¹¶å‘æ§åˆ¶

#### æ­¥éª¤

1. ä¸Šä¼  **10-15 é¡µçš„è®ºæ–‡**

2. é€‰æ‹©ã€Œé«˜çº§ã€æ°´å¹³

3. ç‚¹å‡»ã€Œå¼€å§‹åˆ†æã€

4. è§‚å¯Ÿæ§åˆ¶å°è¿›åº¦æ—¥å¿—ï¼š
   ```
   [Analysis] è¿›åº¦: 1/23
   [Analysis] è¿›åº¦: 2/23
   ...
   ```

#### éªŒæ”¶æ ‡å‡†

- âœ… æ‰¹é‡åˆ†ææ­£å¸¸ï¼ˆ20-30 ä¸ªæ®µè½ï¼‰
- âœ… å¹¶å‘æ§åˆ¶ç”Ÿæ•ˆï¼ˆæœ€å¤š 3 ä¸ªåŒæ—¶è¯·æ±‚ï¼‰
- âœ… è¿›åº¦æ›´æ–°å®æ—¶
- âœ… 2-3 åˆ†é’Ÿå†…å®Œæˆ
- âœ… é«˜çº§æ°´å¹³è¯æ±‡æ ‡æ³¨è¾ƒå°‘ï¼ˆ3-5 ä¸ª/æ®µï¼‰
- âœ… æ‰€æœ‰æ®µè½éƒ½æœ‰å®Œæ•´åˆ†æ

---

### åœºæ™¯ 4ï¼šé”™è¯¯å¤„ç†æµ‹è¯•

**ç›®çš„**ï¼šéªŒè¯é”™è¯¯é‡è¯•å’Œé™çº§æœºåˆ¶

#### 4.1 æµ‹è¯•ï¼šAPI å¯†é’¥é”™è¯¯

1. è®¾ç½®é”™è¯¯çš„ API å¯†é’¥ï¼š
   ```bash
   DOUBAO_API_KEY=invalid-key
   ```

2. é‡å¯æœåŠ¡å™¨

3. ä¸Šä¼ è®ºæ–‡

#### éªŒæ”¶æ ‡å‡†

- âœ… æ§åˆ¶å°æ˜¾ç¤ºé”™è¯¯ï¼š`è±†åŒ… API å¯†é’¥æœªé…ç½®` æˆ– `API è¯·æ±‚å¤±è´¥`
- âœ… è®ºæ–‡çŠ¶æ€æ›´æ–°ä¸º `failed`
- âœ… å‰ç«¯æ˜¾ç¤ºå‹å¥½é”™è¯¯æç¤º

#### 4.2 æµ‹è¯•ï¼šç½‘ç»œè¶…æ—¶ï¼ˆæ¨¡æ‹Ÿï¼‰

æš‚æ—¶æ— æ³•åœ¨æœ¬åœ°æ¨¡æ‹Ÿï¼Œå¯é€šè¿‡ä»¥ä¸‹æ–¹å¼è§‚å¯Ÿè¶…æ—¶å¤„ç†ï¼š

1. æŸ¥çœ‹ä»£ç ä¸­çš„è¶…æ—¶è®¾ç½®ï¼š
   ```typescript
   // lib/ai/doubao.ts
   timeout: 30000, // 30 ç§’è¶…æ—¶
   ```

2. ä¸Šä¼ è¶…å¤§è®ºæ–‡ï¼ˆ30+ é¡µï¼‰è§¦å‘è¶…æ—¶

#### éªŒæ”¶æ ‡å‡†

- âœ… 30 ç§’åè‡ªåŠ¨é‡è¯•
- âœ… æœ€å¤šé‡è¯• 3 æ¬¡
- âœ… å¤±è´¥åä½¿ç”¨é™çº§æ–¹æ¡ˆï¼ˆç®€å•åˆ†æ®µ + åŸºç¡€ç¿»è¯‘ï¼‰

#### 4.3 æµ‹è¯•ï¼šé™çº§æ–¹æ¡ˆ

1. æ•…æ„è®©æŸä¸ªæ®µè½åˆ†æå¤±è´¥ï¼ˆå¯ä¸´æ—¶ä¿®æ”¹ä»£ç æŠ›å‡ºé”™è¯¯ï¼‰

2. è§‚å¯Ÿæ˜¯å¦é™çº§åˆ°åŸºç¡€ç¿»è¯‘

#### éªŒæ”¶æ ‡å‡†

- âœ… æ§åˆ¶å°æ˜¾ç¤º `ä½¿ç”¨é™çº§æ–¹æ¡ˆ`
- âœ… è¯¥æ®µè½ä»æœ‰åŸºç¡€ç¿»è¯‘
- âœ… å…¶ä»–æ®µè½æ­£å¸¸åˆ†æ
- âœ… æ•´ä½“æµç¨‹ä¸ä¸­æ–­

---

### åœºæ™¯ 5ï¼šMock/çœŸå® AI åˆ‡æ¢æµ‹è¯•

**ç›®çš„**ï¼šéªŒè¯æ¨¡å¼åˆ‡æ¢æ— è¯¯

#### æ­¥éª¤

1. Mock æ¨¡å¼ä¸Šä¼ ä¸€ç¯‡è®ºæ–‡ï¼Œè®°å½•ç»“æœ

2. åˆ‡æ¢åˆ°çœŸå® AI æ¨¡å¼

3. ä¸Šä¼ åŒä¸€ç¯‡è®ºæ–‡

4. å¯¹æ¯”ç»“æœ

#### éªŒæ”¶æ ‡å‡†

- âœ… Mock æ¨¡å¼ï¼šæ‘˜è¦ä¸ºé€šç”¨æ¨¡æ¿
- âœ… çœŸå® AI æ¨¡å¼ï¼šæ‘˜è¦ä¸è®ºæ–‡å†…å®¹ç›¸å…³
- âœ… Mock æ¨¡å¼ï¼šåˆ†æ®µæŒ‰åŒæ¢è¡Œ
- âœ… çœŸå® AI æ¨¡å¼ï¼šåˆ†æ®µæŒ‰ç« èŠ‚ç»“æ„
- âœ… ä¸¤ç§æ¨¡å¼æ•°æ®åº“å­˜å‚¨æ ¼å¼ä¸€è‡´

---

## ğŸ“Š æ€§èƒ½æµ‹è¯•

### Token æ¶ˆè€—ç»Ÿè®¡

å¯¹äºä¸€ç¯‡ 10 é¡µè®ºæ–‡ï¼š

| é˜¶æ®µ | Token æ¶ˆè€— | æ—¶é—´ |
|------|-----------|------|
| ç»“æ„åˆ†æ | 3,000-5,000 | 5-10s |
| æ®µè½åˆ†æï¼ˆ20æ®µï¼‰ | 10,000-20,000 | 30-60s |
| **æ€»è®¡** | **13,000-25,000** | **35-70s** |

### æˆæœ¬ä¼°ç®—

- è±†åŒ… Lite ä»·æ ¼ï¼šÂ¥0.3-0.6 / 1M tokens
- å•ç¯‡ 10 é¡µè®ºæ–‡ï¼šÂ¥0.01-0.03
- æµ‹è¯• 100 ç¯‡ï¼šÂ¥1-3

---

## ğŸ› å¸¸è§æµ‹è¯•é—®é¢˜

### é—®é¢˜ 1ï¼šåˆ†æ®µè¿‡å¤šæˆ–è¿‡å°‘

**è¡¨ç°**ï¼š10 é¡µè®ºæ–‡åˆ†æˆ 50+ æ®µï¼Œæˆ–åªæœ‰ 5 æ®µ

**æ’æŸ¥**ï¼š
1. æ£€æŸ¥ AI è¿”å›çš„åŸå§‹ JSONï¼ˆæ·»åŠ æ—¥å¿—ï¼‰
2. æŸ¥çœ‹ `lib/ai/prompts.ts` çš„åˆ†æ®µ Prompt
3. å°è¯•ä¸åŒè®ºæ–‡

**è§£å†³**ï¼š
- è°ƒæ•´ Prompt ä¸­çš„å­—æ•°è¦æ±‚
- åœ¨ `analyzer.ts` ä¸­æ·»åŠ åå¤„ç†é€»è¾‘

### é—®é¢˜ 2ï¼šæœ¯è¯­æ ‡æ³¨ä¸å‡†ç¡®

**è¡¨ç°**ï¼šå°†æ™®é€šè¯æ±‡æ ‡è®°ä¸ºæœ¯è¯­ï¼Œæˆ–æ¼æ‰é‡è¦æœ¯è¯­

**æ’æŸ¥**ï¼š
1. æ£€æŸ¥ AI è¿”å›çš„ `terms` æ•°ç»„
2. æŸ¥çœ‹ Prompt ä¸­çš„æœ¯è¯­å®šä¹‰

**è§£å†³**ï¼š
- ä¼˜åŒ– Promptï¼Œæä¾›ç¤ºä¾‹
- å¢åŠ æœ¯è¯­éªŒè¯é€»è¾‘

### é—®é¢˜ 3ï¼šç¿»è¯‘è´¨é‡ä¸ä½³

**è¡¨ç°**ï¼šç¿»è¯‘ç”Ÿç¡¬ã€ä¸å‡†ç¡®

**æ’æŸ¥**ï¼š
1. æ£€æŸ¥ Prompt çš„ç¿»è¯‘è¦æ±‚
2. æŸ¥çœ‹ç”¨æˆ·æ°´å¹³è®¾ç½®æ˜¯å¦å½±å“ç¿»è¯‘

**è§£å†³**ï¼š
- è°ƒæ•´ Promptï¼Œå¼ºè°ƒå­¦æœ¯å‡†ç¡®æ€§
- å°è¯•ä¸åŒçš„æ¸©åº¦å‚æ•°ï¼ˆtemperatureï¼‰

---

## âœ… å®Œæ•´æµ‹è¯•æ¸…å•

### åŠŸèƒ½æµ‹è¯•

- [ ] Mock æ¨¡å¼æ­£å¸¸å·¥ä½œ
- [ ] çœŸå® AI æ¨¡å¼æ­£å¸¸å·¥ä½œ
- [ ] çŸ­è®ºæ–‡ï¼ˆ2-5 é¡µï¼‰åˆ†ææˆåŠŸ
- [ ] ä¸­ç­‰è®ºæ–‡ï¼ˆ10-15 é¡µï¼‰åˆ†ææˆåŠŸ
- [ ] é•¿è®ºæ–‡ï¼ˆ20+ é¡µï¼‰åˆ†ææˆåŠŸ
- [ ] ç« èŠ‚è¯†åˆ«å‡†ç¡®
- [ ] åˆ†æ®µåˆç†ï¼ˆ150-400 è¯/æ®µï¼‰
- [ ] æ‘˜è¦ç”Ÿæˆå‡†ç¡®
- [ ] æœ¯è¯­æ ‡æ³¨åˆç†
- [ ] éš¾è¯æ ‡æ³¨ç¬¦åˆæ°´å¹³
- [ ] è¯­æ³•åˆ†ææ¸…æ™°
- [ ] ç¿»è¯‘å‡†ç¡®æµç•…

### é”™è¯¯å¤„ç†æµ‹è¯•

- [ ] API å¯†é’¥é”™è¯¯æç¤ºå‹å¥½
- [ ] ç½‘ç»œè¶…æ—¶è‡ªåŠ¨é‡è¯•
- [ ] é€Ÿç‡é™åˆ¶å¤„ç†æ­£ç¡®
- [ ] é™çº§æ–¹æ¡ˆç”Ÿæ•ˆ
- [ ] è‡´å‘½é”™è¯¯é˜»æ­¢ç»§ç»­æ‰§è¡Œ

### æ€§èƒ½æµ‹è¯•

- [ ] 10 é¡µè®ºæ–‡ < 2 åˆ†é’Ÿå®Œæˆ
- [ ] å¹¶å‘æ§åˆ¶ç”Ÿæ•ˆï¼ˆæœ€å¤š 3 ä¸ªï¼‰
- [ ] Token æ¶ˆè€—åˆç†
- [ ] å†…å­˜å ç”¨æ­£å¸¸
- [ ] æ— å†…å­˜æ³„æ¼

### ç”¨æˆ·ä½“éªŒæµ‹è¯•

- [ ] è¿›åº¦æ˜¾ç¤ºå®æ—¶æ›´æ–°
- [ ] é”™è¯¯æç¤ºæ¸…æ™°æ˜“æ‡‚
- [ ] åŠ è½½åŠ¨ç”»æµç•…
- [ ] é˜…è¯»ç•Œé¢å¸ƒå±€æ­£ç¡®
- [ ] æ ‡æ³¨é«˜äº®æ˜æ˜¾
- [ ] ç‚¹å‡»äº¤äº’å“åº”å¿«

---

## ğŸ“ æµ‹è¯•æŠ¥å‘Šæ¨¡æ¿

### æµ‹è¯•ç¯å¢ƒ

- æ—¥æœŸï¼š2025-11-XX
- ç³»ç»Ÿï¼šmacOS / Windows / Linux
- Node ç‰ˆæœ¬ï¼šv18.x.x
- è±†åŒ… API æ¨¡å‹ï¼šdoubao-seed-1-6-flash-250828

### æµ‹è¯•ç»“æœ

| æµ‹è¯•åœºæ™¯ | çŠ¶æ€ | å¤‡æ³¨ |
|---------|------|------|
| Mock æ¨¡å¼ | âœ… é€šè¿‡ | - |
| çŸ­è®ºæ–‡ï¼ˆ5é¡µï¼‰ | âœ… é€šè¿‡ | è€—æ—¶ 45sï¼ŒToken 8,234 |
| ä¸­ç­‰è®ºæ–‡ï¼ˆ12é¡µï¼‰ | âœ… é€šè¿‡ | è€—æ—¶ 1m 53sï¼ŒToken 18,456 |
| é”™è¯¯å¤„ç† | âœ… é€šè¿‡ | é‡è¯•æœºåˆ¶ç”Ÿæ•ˆ |
| æ€§èƒ½æµ‹è¯• | âœ… é€šè¿‡ | ç¬¦åˆé¢„æœŸ |

### å‘ç°çš„é—®é¢˜

1. âš ï¸ é—®é¢˜æè¿°
   - å½±å“ï¼šè½»å¾®/ä¸­ç­‰/ä¸¥é‡
   - è§£å†³æ–¹æ¡ˆï¼š...

### å»ºè®®ä¼˜åŒ–

1. ğŸ“Œ ä¼˜åŒ–å»ºè®®...
2. ğŸ“Œ ä¼˜åŒ–å»ºè®®...

---

**æµ‹è¯•äººå‘˜**ï¼šXXX  
**å®¡æ ¸äººå‘˜**ï¼šXXX  
**æ—¥æœŸ**ï¼š2025-11-XX


